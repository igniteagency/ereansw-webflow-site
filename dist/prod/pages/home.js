"use strict";(()=>{var m=document.getElementById("hero-svg"),I=document.getElementById("textpath");if(!m||!I)throw new Error("Required SVG elements not found");var c=I.getTotalLength(),R=c*.25,k=c*-2e-4,v=R+k,D=c*.001,i=document.getElementById("progress-circle");if(!i)throw new Error("Progress circle element not found");var G=i.getTotalLength(),L=null;i.style.strokeDasharray=G.toString();i.style.strokeDashoffset=G.toString();var B=Array.from(document.querySelectorAll("#hero-school-list .hero_background_image-wrapper")),T=B.map(e=>({name:e.dataset.schoolName||"",id:e.dataset.schoolId||"",element:e})),g=T.map(e=>e.name),l=g.length,h=g.concat(g,g),a=l,w=null,s=document.createElementNS(m.namespaceURI,"g");s.id="schools-group";m.appendChild(s);var f=[],p=[],d=[];function M(e){return e<l?-1:e>=h.length-l?1:0}function N(e){e===-1?(h=g.concat(h.slice(0,h.length-l)),a+=l):e===1&&(h=h.slice(l).concat(g),a-=l)}function F(){if(!m)throw new Error("SVG element not available");let r=window.innerWidth*.02,o=Math.min(18,Math.max(12,r)),t=m.getBoundingClientRect().width;return o*100/t}function V(){if(!m)throw new Error("SVG element not available");for(s.style.textAnchor="";s.firstChild;)s.removeChild(s.firstChild);let e=F();window.IS_DEBUG_MODE&&console.debug("fontVB",e),s.style.fontSize=`${e}px`,h.forEach((r,o)=>{let n=document.createElementNS(m.namespaceURI,"text");n.setAttribute("class","hero-svg-text"),n.style.cursor="pointer",n.addEventListener("click",()=>O(o));let t=document.createElementNS(m.namespaceURI,"textPath");t.setAttribute("href","#textpath"),t.setAttribute("startOffset","0"),t.textContent=r,n.appendChild(t),s.appendChild(n)}),document.fonts.ready.then(()=>{requestAnimationFrame(()=>{d=Array.from(s.childNodes).filter(u=>u instanceof SVGTextElement);let o=d.map(u=>u.getComputedTextLength()),t=o.reduce((u,E)=>u+E,0)+D*(d.length-1),x=v-t/2;f=[],p=[],d.forEach((u,E)=>{x+=o[E]/2;let S=u.querySelector("textPath");if(!S)throw new Error("TextPath element not found");let A=(x+c)%c;S.setAttribute("startOffset",A.toString()),f.push(A),p.push(S),x+=o[E]/2+D}),window.IS_DEBUG_MODE&&console.debug("SVG text widths:",o),s.style.textAnchor="middle"})})}function _(){let e=f[a],r=v-e;p.forEach((n,t)=>{let b=(f[t]+r+c)%c;gsap.to(n,{attr:{startOffset:b},duration:.8,ease:"power4.out"})}),d.forEach((n,t)=>{n.classList.toggle("active",t===a)});let o=a%l;T.forEach((n,t)=>{n.element.classList.toggle("active",t===o)})}function P(){let e=f[a],r=v-e;p.forEach((n,t)=>{let b=(f[t]+r+c)%c;n.setAttribute("startOffset",b.toString())}),d.forEach((n,t)=>{n.classList.toggle("active",t===a)});let o=a%l;T.forEach((n,t)=>{n.element.classList.toggle("active",t===o)})}function y(){if(!i)throw new Error("Progress circle element not available");L&&gsap.killTweensOf(i),i.style.strokeDashoffset=G.toString(),L=gsap.to(i,{strokeDashoffset:0,duration:5e3/1e3,ease:"none"})}function C(){w!==null&&clearTimeout(w),w=window.setTimeout(()=>O(a+1),5e3)}function O(e){let r=M(e);a=e,_(),y(),C(),r!==0&&setTimeout(()=>{N(r),V(),P()},.8*1e3)}window.setActive=O;window.addEventListener("resize",()=>{V(),P(),y()});V();P();y();C();})();

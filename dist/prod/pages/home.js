"use strict";(()=>{var m=document.getElementById("hero-svg"),D=document.getElementById("textpath");if(!m||!D)throw new Error("Required SVG elements not found");var l=D.getTotalLength(),R=l*.25,k=l*-2e-4,T=R+k,L=l*.001,i=document.getElementById("progress-circle");if(!i)throw new Error("Progress circle element not found");var G=i.getTotalLength(),C=null;i.style.strokeDasharray=G.toString();i.style.strokeDashoffset=G.toString();var B=Array.from(document.querySelectorAll("#hero-school-list .hero_background_image-wrapper")),P=B.map(t=>({name:t.dataset.schoolName||"",id:t.dataset.schoolId||"",element:t})),p=P.map(t=>t.name),c=p.length,g=p.concat(p,p),r=c,v=null,b=document.createElementNS(m.namespaceURI,"g");b.id="schools-group";m.appendChild(b);var E=[],S=[],d=[];function M(t){return t<c?-1:t>=g.length-c?1:0}function N(t){t===-1?(g=p.concat(g.slice(0,g.length-c)),r+=c):t===1&&(g=g.slice(c).concat(p),r-=c)}function j(){if(!m)throw new Error("SVG element not available");let s=window.innerWidth*.02,a=Math.min(18,Math.max(12,s)),e=m.getBoundingClientRect().width;return a*100/e}function V(){if(!m)throw new Error("SVG element not available");for(;b.firstChild;)b.removeChild(b.firstChild);let t=j();g.forEach((u,f)=>{let o=document.createElementNS(m.namespaceURI,"text");o.setAttribute("class","hero-svg-text"),o.setAttribute("font-size",t.toString()),o.setAttribute("text-anchor","middle"),o.style.cursor="pointer",o.addEventListener("click",()=>O(f));let h=document.createElementNS(m.namespaceURI,"textPath");h.setAttribute("href","#textpath"),h.setAttribute("startOffset","0"),h.textContent=u,o.appendChild(h),b.appendChild(o)}),d=Array.from(b.querySelectorAll("text"));let a=d.map(u=>u.getComputedTextLength()),e=a.reduce((u,f)=>u+f,0)+L*(d.length-1),w=T-e/2;E=[],S=[],d.forEach((u,f)=>{w+=a[f]/2;let o=u.querySelector("textPath");if(!o)throw new Error("TextPath element not found");let h=(w+l)%l;o.setAttribute("startOffset",h.toString()),E.push(h),S.push(o),w+=a[f]/2+L})}function F(){let t=E[r],s=T-t;S.forEach((n,e)=>{let x=(E[e]+s+l)%l;gsap.to(n,{attr:{startOffset:x},duration:.8,ease:"power4.out"})}),d.forEach((n,e)=>{n.classList.toggle("active",e===r)});let a=r%c;P.forEach((n,e)=>{n.element.classList.toggle("active",e===a)})}function y(){let t=E[r],s=T-t;S.forEach((n,e)=>{let x=(E[e]+s+l)%l;n.setAttribute("startOffset",x.toString())}),d.forEach((n,e)=>{n.classList.toggle("active",e===r)});let a=r%c;P.forEach((n,e)=>{n.element.classList.toggle("active",e===a)})}function A(){if(!i)throw new Error("Progress circle element not available");C&&gsap.killTweensOf(i),i.style.strokeDashoffset=G.toString(),C=gsap.to(i,{strokeDashoffset:0,duration:5e3/1e3,ease:"none"})}function I(){v!==null&&clearTimeout(v),v=window.setTimeout(()=>O(r+1),5e3)}function O(t){let s=M(t);r=t,F(),A(),I(),s!==0&&setTimeout(()=>{N(s),V(),y()},.8*1e3)}window.setActive=O;window.addEventListener("resize",()=>{V(),y(),A()});V();y();A();I();})();

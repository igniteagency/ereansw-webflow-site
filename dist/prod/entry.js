"use strict";(()=>{var e={highlight:"color: red; font-weight: bold;",normal:"color: #000; font-weight: normal;"};var a="IS_DEBUG_MODE";window.IS_DEBUG_MODE=u();window.setDebugMode=o=>{localStorage.setItem(a,o.toString())};function u(){let o=localStorage.getItem(a);return!!(o&&o==="true")}var E=window.IS_DEBUG_MODE?"enabled":"disabled";console.log(`Debug mode is %c${E}`,e.highlight);console.log(`To ${window.IS_DEBUG_MODE?"disable":"enable"} debug mode and show debug logs, run %c\`window.setDebugMode(${window.IS_DEBUG_MODE?"false":"true"})\`%c in the console`,e.highlight,e.normal);var w={local:"Localhost",cdn:"CDN"},s="http://localhost:3000/",l="jsEnv";window.SCRIPTS_ENV=p();window.setScriptMode=o=>{if(o!=="local"&&o!=="cdn"){console.error("Invalid JS scripts environment. Pass %c`local`%c or %c`cdn`%c in the console",e.highlight,e.normal,e.highlight,e.normal);return}localStorage.setItem(l,o),window.SCRIPTS_ENV=o,console.log(`JS scripts environment successfully set to %c${w[o]}`,e.highlight)};function p(){let o=localStorage.getItem(l);if(o==="local"){let i=new AbortController,t=setTimeout(()=>i.abort(),150);fetch(s,{method:"HEAD",cache:"no-store",signal:i.signal}).catch(()=>{console.log("Localhost server is not available, switching to production mode"),localStorage.setItem(l,"cdn"),o="cdn",window.SCRIPTS_ENV="cdn"}).finally(()=>clearTimeout(t))}let n=o||"cdn";return console.log(`Current JS scripts environment: %c${n}`,e.highlight),_(n),n}function _(o){o==="cdn"?console.log('To serve JS files from localhost, run %c`window.setScriptMode("local")`%c in the console',e.highlight,e.normal):console.log('To switch to production mode, either run %c`window.setScriptMode("cdn")`%c in the console or turn off localhost dev server',e.highlight,e.normal)}window.PRODUCTION_BASE="https://cdn.jsdelivr.net/gh/igniteagency/ereansw-webflow-site/dist/prod/";var f=window.SCRIPTS_ENV==="local"?s:window.PRODUCTION_BASE;window.loadScript=function(o,n,i){let t={placement:"body",name:void 0,...n},d={defer:"true",...i},c=o.startsWith("https://")?o:f+o;return document.querySelector(`script[src="${c}"]`)?Promise.resolve():new Promise((g,S)=>{let r=document.createElement("script");r.src=c,Object.entries(d).forEach(([h,m])=>{r.setAttribute(h,m)}),r.onload=()=>{t.name&&document.dispatchEvent(new CustomEvent(`scriptLoaded:${t.name}`,{detail:{url:c,name:t.name}})),g()},r.onerror=()=>S(new Error(`Failed to load script: ${c}`)),document[t.placement].appendChild(r)})};})();

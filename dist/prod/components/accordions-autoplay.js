"use strict";(()=>{var s='[data-accordion-autoplay-el="component"]',r="data-accordion-autoplay-time-seconds";var o="--_autoplay-time",i=class{componentEl;accordions=[];autoplayTime=6;currentIndex=-1;autoplayInterval;intersectionObserver;isInView=!1;constructor(t){if(this.componentEl=t,!window.matchMedia("(pointer: fine)").matches)return;let e=this.componentEl.getAttribute(r);this.autoplayTime=e?parseInt(e,10):6,this.componentEl.style.setProperty(o,`${this.autoplayTime}s`),this.accordions=Array.from(this.componentEl.querySelectorAll("details")),this.accordions.length!==0&&(this.addEventListeners(),this.setupIntersectionObserver())}setupIntersectionObserver(){this.intersectionObserver=new window.IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting?(this.isInView=!0,this.startAutoplay()):(this.isInView=!1,this.stopAutoplay())})},{threshold:.2}),this.intersectionObserver.observe(this.componentEl)}playNext=()=>{this.currentIndex=(this.currentIndex+1)%this.accordions.length,this.accordions[this.currentIndex].openAnimated()};startAutoplay=()=>{this.isInView&&(this.autoplayInterval&&clearInterval(this.autoplayInterval),this.playNext(),this.autoplayInterval=setInterval(this.playNext,this.autoplayTime*1e3))};stopAutoplay=()=>{this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=void 0)};handleClick=t=>{if(!t.isTrusted)return;let e=t.currentTarget,n=this.accordions.indexOf(e);n>-1&&(this.currentIndex=n,this.autoplayInterval&&clearInterval(this.autoplayInterval),this.isInView&&(this.autoplayInterval=setInterval(this.playNext,this.autoplayTime*1e3)))};addEventListeners(){this.accordions.forEach(t=>{t.addEventListener("click",this.handleClick)})}};function l(){document.querySelectorAll(s).forEach(a=>{new i(a)})}})();
